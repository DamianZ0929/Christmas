<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>聖誕樹</title>
<style>
/* ---------- 基本清除 ---------- */
*{margin:0;padding:0;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;}
html,body{width:100%;height:100%;overflow:hidden;position:fixed;}
@supports(-webkit-touch-callout:none){html,body{height:-webkit-fill-available;}}

/* ---------- 主場景 ---------- */
#main{width:100vw;height:100vh;position:relative;background:#fff;border:3px dashed #218359;}
.left{width:100%;height:100%;background:#9E0016;position:relative;overflow:hidden;}

/* ---------- 主樹：真正貼底置中 ---------- */
.tree{
 position:absolute;bottom:0;left:50%;
 transform:translateX(-50%);
 width:60vw;max-width:260px;
 pointer-events:none;
}

/* ---------- 開啟按鈕 ---------- */
.btn{
 position:absolute;top:12vh;left:50%;transform:translateX(-50%);
 width:100px;height:50px;background:#218359;border:0;
 border-radius:50% 20%/10% 40%;color:#fff;font-size:15px;font-weight:bold;
 display:flex;align-items:center;justify-content:center;
 animation:heart .8s linear infinite;
}
.link{color:inherit;text-decoration:none;}

/* ---------- 小圖：先藏 ---------- */
.decoration{
 position:absolute;
 display:none;
 animation:heart1 .6s linear infinite;
}
@keyframes heart1{0%{transform:scale(1.07)}80%{transform:scale(1)}100%{transform:scale(.8)}}
@keyframes heart{0%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.05)}100%{transform:translateX(-50%) scale(1)}}

/* 橫屏微調 */
@media(orientation:landscape){
 .tree{max-width:200px}
 .btn{top:8vh;width:90px;height:45px;font-size:14px}
}
</style>
</head>
<body>
<div id="main">
  <div class="left">
    <button class="btn"><a href="./2.html" target="_blank" class="link">开启卡片！</a></button>

    <!-- 20 個空標籤，等 JS 隨機填圖 -->
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">
    <img class="decoration">

    <!-- 主樹 -->
    <img src="./assets/圣诞树.png" alt="" class="tree">
  </div>
</div>

<script>
/* ========= 裝飾圖池子（不含主樹） ========= */
const pool = [
  "主题.png",
  "圣诞-圣诞老人.png",
  "圣诞礼物.png",
  "圣诞花.png",
  "圣诞娃娃.png",
  "圣诞贺卡.png",
  "圣诞袜.png",
  "圣诞鹿.png",
  "镂空圣诞树.png"
];

/* ========= 隨機散落 + 每 4 秒再飛 ========= */
function randomFloat(min, max) {
  return Math.random() * (max - min) + min;
}
function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}
function scatterIcons() {
  const icons = document.querySelectorAll('.decoration');
  // 每次洗牌後取前 20 張
  const picks = shuffle([...pool]);
  icons.forEach((img, i) => {
    img.src = `./assets/${picks[i % picks.length]}`;
    img.style.top    = randomFloat(5, 85) + 'vh';
    img.style.left   = randomFloat(5, 85) + 'vw';
    img.style.width  = randomFloat(4, 8) + 'vw';
    img.style.display= 'block';
  });
}
document.addEventListener('DOMContentLoaded', () => {
  scatterIcons();
  setInterval(scatterIcons, 4000);
});
</script>
</body>
</html>